{"ast":null,"code":"import _slicedToArray from\"C:/Users/Paul/Desktop/CodingDojo/CodingDojo-MERN/MERN_Authors/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateAuthor=function UpdateAuthor(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useParams=useParams(),id=_useParams.id;var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var navigate=useNavigate();useEffect(function(){axios.get(\"http://localhost:8000/api/authors/\".concat(id)).then(function(res){var oneAuthor=res.data;setName(oneAuthor.name);setDescription(oneAuthor.description);}).catch(function(err){return console.log(err);});},[]);var submitHandler=function submitHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/api/authors/\".concat(id),{name:name,description:description}).then(function(){return navigate(\"/authors\");}).catch(function(err){var errResponse=err.response.data.errors;var errArr=[];for(var key in errResponse){errArr.push(errResponse[key].message);}setErrors(errArr);});};return/*#__PURE__*/_jsxs(\"div\",{id:\"updatePageCentering\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"editTitleColoring\",children:\"Edit this author:\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,children:/*#__PURE__*/_jsxs(\"div\",{id:\"editAndCreateInputAndButtonsCentering\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"editAndCreateLabelSpacing\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"updateAndEditLabels\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},size:\"22\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"editAndCreateLabelSpacing\",children:[/*#__PURE__*/_jsx(\"label\",{id:\"updateAndEditLabels\",children:\"Description: \"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},rows:\"3\",cols:\"24\"})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"buttonSpacing\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-light\",children:/*#__PURE__*/_jsx(Link,{to:\"/authors\",id:\"createAndEditLinksFontColor\",children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-light\",type:\"submit\",id:\"createAndEditLinksFontColor\",children:\"Submit\"})]})]})}),errors.map(function(err,idx){return/*#__PURE__*/_jsx(\"p\",{id:\"errorMessagesColor\",children:err},idx);})]});};export default UpdateAuthor;","map":{"version":3,"names":["axios","React","useState","useEffect","useNavigate","useParams","Link","jsx","_jsx","jsxs","_jsxs","UpdateAuthor","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","_useParams","id","_useState5","_useState6","errors","setErrors","navigate","get","concat","then","res","oneAuthor","data","catch","err","console","log","submitHandler","e","preventDefault","put","errResponse","response","errArr","key","push","message","children","onSubmit","type","value","onChange","target","size","rows","cols","class","to","map","idx"],"sources":["C:/Users/Paul/Desktop/CodingDojo/CodingDojo-MERN/MERN_Authors/client/src/view/UpdateAuthor.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst UpdateAuthor = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const { id } = useParams();\r\n\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8000/api/authors/${id}`)\r\n      .then((res) => {\r\n        const oneAuthor = res.data;\r\n        setName(oneAuthor.name);\r\n        setDescription(oneAuthor.description);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    axios\r\n      .put(`http://localhost:8000/api/authors/${id}`, { name, description })\r\n      .then(() => navigate(\"/authors\"))\r\n      .catch((err) => {\r\n        const errResponse = err.response.data.errors;\r\n        const errArr = [];\r\n        for (const key in errResponse) {\r\n          errArr.push(errResponse[key].message);\r\n        }\r\n        setErrors(errArr);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div id=\"updatePageCentering\">\r\n      <h2 id=\"editTitleColoring\">Edit this author:</h2>\r\n      <form onSubmit={submitHandler}>\r\n        <div id=\"editAndCreateInputAndButtonsCentering\">\r\n          <div id=\"editAndCreateLabelSpacing\">\r\n            <label id=\"updateAndEditLabels\">Name: </label>\r\n            <input\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={(e) => setName(e.target.value)}\r\n              size=\"22\"\r\n            />\r\n          </div>\r\n          <div id=\"editAndCreateLabelSpacing\">\r\n            <label id=\"updateAndEditLabels\">Description: </label>\r\n            <textarea\r\n              type=\"text\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              rows=\"3\"\r\n              cols=\"24\"\r\n            />\r\n          </div>\r\n          <div id=\"buttonSpacing\">\r\n            <button class=\"btn btn-light\">\r\n              <Link to=\"/authors\" id=\"createAndEditLinksFontColor\">\r\n                Cancel\r\n              </Link>\r\n            </button>\r\n            <button\r\n              class=\"btn btn-light\"\r\n              type=\"submit\"\r\n              id=\"createAndEditLinksFontColor\"\r\n            >\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      {errors.map((err, idx) => {\r\n        return (\r\n          <p id=\"errorMessagesColor\" key={idx}>\r\n            {err}\r\n          </p>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateAuthor;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}