{"ast":null,"code":"import _slicedToArray from\"C:/Users/Paul/Desktop/CodingDojo/CodingDojo-MERN/MERN_Authors/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),authorList=_useState2[0],setAuthorList=_useState2[1];useEffect(function(){axios.get(\"http://localhost:8000/api/authors\").then(function(res){return setAuthorList(res.data);}).catch(function(err){return console.log(err);});},[]);var handleDelete=function handleDelete(deletedId){axios.delete(\"http://localhost:8000/api/authors/\".concat(deletedId)).then(function(){removeFromDom(deletedId);}).catch(function(err){return console.log(err);});};//* updates dom without refresh\nvar removeFromDom=function removeFromDom(deletedId){var filteredList=authorList.filter(function(eachAuthor,idx){return eachAuthor._id!==deletedId;});setAuthorList(filteredList);};return/*#__PURE__*/_jsx(\"div\",{id:\"allAuthorsBgColor\",children:/*#__PURE__*/_jsxs(\"table\",{id:\"tableCentering\",class:\"table table-dark table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{id:\"tableHeaderSpacing\",children:[/*#__PURE__*/_jsx(\"th\",{id:\"tableHeadPadding\",children:\"Authors\"}),/*#__PURE__*/_jsx(\"th\",{id:\"tableHeadPadding\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{id:\"dashboardContentSpacing\",children:authorList.map(function(oneAuthor,idx){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"tableDataSpacing\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{id:\"authorNameFont\",to:\"/authors/\".concat(oneAuthor._id),children:oneAuthor.name})}),/*#__PURE__*/_jsxs(\"td\",{id:\"editDeleteSpacing\",children:[/*#__PURE__*/_jsx(Link,{to:\"/authors/\".concat(oneAuthor._id,\"/edit\"),children:/*#__PURE__*/_jsx(\"button\",{id:\"editDeleteButtonsFont\",class:\"btn btn-light\",children:\"Edit\"})}),/*#__PURE__*/_jsx(Link,{children:/*#__PURE__*/_jsx(\"button\",{id:\"editDeleteButtonsFont\",class:\"btn btn-light\",onClick:function onClick(){return handleDelete(oneAuthor._id);},children:\"Delete\"})})]})]})},idx);})})]})});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","Dashboard","_useState","_useState2","_slicedToArray","authorList","setAuthorList","get","then","res","data","catch","err","console","log","handleDelete","deletedId","delete","concat","removeFromDom","filteredList","filter","eachAuthor","idx","_id","id","children","class","map","oneAuthor","to","name","onClick"],"sources":["C:/Users/Paul/Desktop/CodingDojo/CodingDojo-MERN/MERN_Authors/client/src/view/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Dashboard = () => {\r\n  const [authorList, setAuthorList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8000/api/authors`)\r\n      .then((res) => setAuthorList(res.data))\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  const handleDelete = (deletedId) => {\r\n    axios\r\n      .delete(`http://localhost:8000/api/authors/${deletedId}`)\r\n      .then(() => {\r\n        removeFromDom(deletedId);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  //* updates dom without refresh\r\n  const removeFromDom = (deletedId) => {\r\n    const filteredList = authorList.filter(\r\n      (eachAuthor, idx) => eachAuthor._id !== deletedId\r\n    );\r\n    setAuthorList(filteredList);\r\n  };\r\n\r\n  return (\r\n    <div id=\"allAuthorsBgColor\">\r\n      <table id=\"tableCentering\" class=\"table table-dark table-hover\">\r\n        <thead class=\"table-light\">\r\n          <tr id=\"tableHeaderSpacing\">\r\n            <th id=\"tableHeadPadding\">Authors</th>\r\n            <th id=\"tableHeadPadding\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody id=\"dashboardContentSpacing\">\r\n          {authorList.map((oneAuthor, idx) => {\r\n            return (\r\n              <tr key={idx}>\r\n                <div id=\"tableDataSpacing\">\r\n                  <td>\r\n                    <Link id=\"authorNameFont\" to={`/authors/${oneAuthor._id}`}>\r\n                      {oneAuthor.name}\r\n                    </Link>\r\n                  </td>\r\n                  <td id=\"editDeleteSpacing\">\r\n                    <Link to={`/authors/${oneAuthor._id}/edit`}>\r\n                      <button id=\"editDeleteButtonsFont\" class=\"btn btn-light\">\r\n                        Edit\r\n                      </button>\r\n                    </Link>\r\n                    <Link>\r\n                      <button\r\n                        id=\"editDeleteButtonsFont\"\r\n                        class=\"btn btn-light\"\r\n                        onClick={() => handleDelete(oneAuthor._id)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </Link>\r\n                  </td>\r\n                </div>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}